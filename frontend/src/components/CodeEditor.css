/* Shell holds both layers */
.luau-editor-shell {
  position: relative;
  width: 100%;
  border: 1px solid var(--vscode-editorWidget-border, rgba(128, 128, 128, 0.35));
  border-radius: 8px;
  overflow: hidden;
  background: transparent;
  color: transparent;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;
  line-height: 1.45;
}

/* Highlight layer (read-only) */
.luau-editor-pre {
  background: transparent;
  position: absolute;
  inset: 0;
  margin: 0;
  overflow: auto;
  white-space: pre-wrap; /* wrap like the textarea */
  word-break: normal;
  tab-size: 2;
}

/* Code inside the highlight layer */
.luau-editor-pre > code {
  background: transparent;
  display: block;
  min-height: 100%;
}

/* Placeholder look (matches VS Code-ish subtle hint) */
.luau-editor-placeholder {
  background: transparent;
  /* opacity: 0; */
  font-style: italic;
}

/* Input layer */
.luau-editor-textarea {
  position: relative;
  inset: 0;
  width: 100%;
  height: 100%;
  resize: none;
  border: 0;
  outline: none;
  background: transparent; /* so highlight shows through */
  color: transparent; /* text invisible, caret visible below */
  caret-color: var(--vscode-editor-foreground, currentColor);
  font: inherit;
  line-height: inherit;
  white-space: pre-wrap;
  overflow: auto; /* must scroll in tandem with the pre */
  tab-size: 2;
  /* Safari: make the glyphs transparent as well */
  -webkit-text-fill-color: transparent;
}

/* Optional: focus ring */
.luau-editor-textarea:focus-visible {
  outline: 2px solid var(--vscode-focusBorder, #4d9aff);
  outline-offset: -2px;
}

/* Make sure your highlight.js CSS + syntaxHighlighting.css are loaded globally.
   Your existing light/dark body classes from highlightLuauCode() will skin it. */
